# ============================================
# SERVER CONFIG
# ============================================
server.port=8080
spring.application.name=FitConnect

# Activar perfil local para cargar application-local.properties
spring.profiles.active=local

# ============================================
# MYSQL DATABASE CONFIG
# ============================================

spring.datasource.url=jdbc:mysql://TU_IP:3306/NOMBRE_BBDD?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
spring.datasource.username=TU_USUARIO
spring.datasource.password=TU_CONTRASEÑA
spring.datasource.driver-class-name=EL_DRIVER_DE_TU_BBDD

# MYSQL: spring.datasource.driver-class-name= com.mysql.cj.jdbc.Driver
# MARIADB: spring.datasource.driver-class-name= org.mariadb.jdbc.Driver

# Pool de conexiones
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000

# ============================================
# HIBERNATE / JPA CONFIG
# ============================================
# update:  actualiza el esquema sin borrar datos
# create-drop: borra y recrea (solo para desarrollo)
# validate: solo valida el esquema
spring.jpa.hibernate.ddl-auto=validate

# DEBUG: Show SQL statements
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Disable Devtools automatic restart
spring.devtools.restart.enabled=false

# MySQL Dialect
#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Lazy Loading problems in JSON serialization
spring.jpa.open-in-view=false

# ============================================
# EMAIL CONFIG
# ============================================
# Gmail
spring.mail.host=smtp.gmail.com
spring.mail.port=587

# Additional mail properties
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com

# Default mail sender
mail.from=noreply@fitconnect.com
mail.from.name=Soporte FitConnect

# ============================================
# TCP SERVER CONFIG (FitConnect Web)
# ============================================
#tcp.server.port=9999
#tcp.server.enabled=true

# ============================================
# LOGGING CONFIG
# ============================================
# Nivel de logs general
logging.level.root=INFO

# APP logs
logging.level.com.elorrieta=DEBUG

# SQL logs
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Logs de Spring
logging.level.org.springframework.web=INFO
logging.level.org.springframework.security=DEBUG

# Logging pattern
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# ============================================
# ARCHIVOS MULTIPART (FOTOS DE PERFIL)
# ============================================
#
## Directorio donde se guardan los archivos subidos
#upload.path=src/main/resources/uploads
## MAX FILE SIZE
#spring.servlet.multipart.max-file-size=10MB
#spring.servlet.multipart.max-request-size=10MB
#spring.servlet.multipart.enabled=true

# ============================================
# CORS CONFIG (Angular y Movil)
# ============================================
# Allowed origins for CORS
cors.allowed-origins=http://localhost:4200,http://localhost:8081
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true

# ============================================
# SECURITY CONFIG
# ============================================
# Rutas de las claves RSA
security.rsa.public-key-path=keys/public.key
security.rsa.private-key-path=keys/private.key

# Mail configuration path for cifrado/descifrado
security.mail.config-path=config/mail_config.txt

# ============================================
# CONFIGURACION DE JACKSON (JSON)
# ============================================
# Evitar errores con lazy loading en JSON
spring.jackson.serialization.fail-on-empty-beans=false
spring.jackson.default-property-inclusion=non_null

# ============================================
# APP INFO
# ============================================
info.app.name=FitConnect
info.app.description=Framework de gestión de actividades deportivas
info.app.version=1.0.0
info.app.encoding=@project.build.sourceEncoding@
info.app.java.version=@java.version@